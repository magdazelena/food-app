(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={form:"AddRecipeForm_form__vlNVV",wrapper:"AddRecipeForm_wrapper__3pTyn",label:"AddRecipeForm_label__1CAJ0",selectedMeal:"AddRecipeForm_selectedMeal__2_zxv",container:"AddRecipeForm_container__1lePy",paragraphLabel:"AddRecipeForm_paragraphLabel__3OxQz",titleInput:"AddRecipeForm_titleInput__1XBqT",hidden:"AddRecipeForm_hidden__36wjK",ingredientWrapper:"AddRecipeForm_ingredientWrapper__1U5tV",button:"AddRecipeForm_button__31UF4",ingredientsList:"AddRecipeForm_ingredientsList__3hbNY",preparationWrapper:"AddRecipeForm_preparationWrapper__1rRHn",inputStep:"AddRecipeForm_inputStep__1FpJd",extraWrapper:"AddRecipeForm_extraWrapper__3WmlB",rowWrapper:"AddRecipeForm_rowWrapper__3kGuI",warningWrapper:"AddRecipeForm_warningWrapper__27lrt",buttonClose:"AddRecipeForm_buttonClose__E2XNs"}},,,,,,function(e,t,n){e.exports={container:"RecipeDetails_container__3T7Wa",header:"RecipeDetails_header__25jPu",headerVisible:"RecipeDetails_headerVisible__3Gp9M",heading:"RecipeDetails_heading__2728P",extraInfo:"RecipeDetails_extraInfo__2-y6a",horLine:"RecipeDetails_horLine__FGVhM",ingredients:"RecipeDetails_ingredients__3kRwk",preparationWrapper:"RecipeDetails_preparationWrapper__j0Fgg",addInfo:"RecipeDetails_addInfo__iJq1v",buttons:"RecipeDetails_buttons__2IOf7",btn:"RecipeDetails_btn__2pf2U",btnSecondary:"RecipeDetails_btnSecondary__1twxc",btnPrimary:"RecipeDetails_btnPrimary__3Jo0P",btnGrey:"RecipeDetails_btnGrey__3OEZP",delete:"RecipeDetails_delete__2-G5_",btnPrint:"RecipeDetails_btnPrint__3xLV3",recepie:"RecipeDetails_recepie__1mm4O"}},,,,function(e,t,n){e.exports={container:"AuthPage_container__3ilxa",formTitle:"AuthPage_formTitle__1fw7u",formWrapper:"AuthPage_formWrapper__g_GdN",label:"AuthPage_label__3j_Rk",input:"AuthPage_input__2KXyB",button:"AuthPage_button__1by6S",link:"AuthPage_link__3_vAq",loading:"AuthPage_loading__mEeqm"}},,,function(e,t,n){e.exports={wrapper:"GroceryListTemplate_wrapper__1Vbos",buttons:"GroceryListTemplate_buttons__35Fdg",button:"GroceryListTemplate_button__EKAc8",classActiveBtn:"GroceryListTemplate_classActiveBtn__2XDDr",buttonWrapper:"GroceryListTemplate_buttonWrapper__Ommdz",buttonGenerate:"GroceryListTemplate_buttonGenerate__2Xn1q"}},function(e,t,n){e.exports={container:"DayPlanDetails_container__1ZgIQ",header:"DayPlanDetails_header__2qavv",heading:"DayPlanDetails_heading__35X4z",headingParagraph:"DayPlanDetails_headingParagraph__3UlFs",buttons:"DayPlanDetails_buttons__3GywA",planWrapper:"DayPlanDetails_planWrapper__2598G",mealPlanWrapper:"DayPlanDetails_mealPlanWrapper__AkSzR",quickAdd:"DayPlanDetails_quickAdd__a9Gnf",recepiesContainer:"DayPlanDetails_recepiesContainer__2jmSm"}},,function(e,t,n){e.exports={wrapper:"HamburgerMenu_wrapper__Rw7fl",container:"HamburgerMenu_container__2JnTy",menuList:"HamburgerMenu_menuList__1M36c",itemWrapper:"HamburgerMenu_itemWrapper__3qmRd","inline-u91291848":"HamburgerMenu_inline-u91291848__1PohT",logo:"HamburgerMenu_logo__25l_T",menuItem:"HamburgerMenu_menuItem__UsKXa","inline-u2fea1060":"HamburgerMenu_inline-u2fea1060__1V7pn",line:"HamburgerMenu_line__tPpjI","inline-u4bcb8179":"HamburgerMenu_inline-u4bcb8179__1_PFs",slideIn:"HamburgerMenu_slideIn__2icfQ",shrink:"HamburgerMenu_shrink__1emKb"}},function(e,t,n){e.exports={container:"WelcomePage_container__1g35o",wrapper:"WelcomePage_wrapper___3j3B",heading:"WelcomePage_heading__7bQ3n",paragraph:"WelcomePage_paragraph__1KH3D",button:"WelcomePage_button__K4Pyr",containerOpen:"WelcomePage_containerOpen__3hLNy",wrapperOpen:"WelcomePage_wrapperOpen__2SYPd",imageOpen:"WelcomePage_imageOpen__33hMD",image:"WelcomePage_image__3hbsk"}},function(e,t,n){e.exports={form:"AddPlanForm_form__17TFj",datePicker:"AddPlanForm_datePicker__1SclQ",calendar:"AddPlanForm_calendar__3hgXG",displayDay:"AddPlanForm_displayDay__2jkX9",label:"AddPlanForm_label__20UTq",heading:"AddPlanForm_heading__2CylS",meals:"AddPlanForm_meals__1KfoB",button:"AddPlanForm_button__323ga",recepies:"AddPlanForm_recepies__2Hwlj",search:"AddPlanForm_search__26vMG",list:"AddPlanForm_list__exS2p",listItem:"AddPlanForm_listItem__oWqL-"}},function(e,t,n){e.exports={recepies:"PopupRecipes_recepies__3Bo20",closeIcon:"PopupRecipes_closeIcon__31lGc",search:"PopupRecipes_search__DSgLg",list:"PopupRecipes_list__291AJ",listItem:"PopupRecipes_listItem__dr07X"}},function(e,t,n){e.exports={wrapper:"IngredientsList_wrapper__1WIiT",buttons:"IngredientsList_buttons__ZLgwM",circle:"IngredientsList_circle__1Kra6",item:"IngredientsList_item__2o3Ev",wrapperInput:"IngredientsList_wrapperInput__I8CiR",input:"IngredientsList_input__1QWWJ",title:"IngredientsList_title__3uaC8",amount:"IngredientsList_amount__1M3LQ",unit:"IngredientsList_unit__1LoDi"}},,function(e,t,n){e.exports={wrapper:"QuickAdd_wrapper__1bxIp",datePicker:"QuickAdd_datePicker__ZlDp4",calendar:"QuickAdd_calendar__21nL_",heading:"QuickAdd_heading__g1cgd",paragraph:"QuickAdd_paragraph__1OJ36",select:"QuickAdd_select__2oYJR",buttons:"QuickAdd_buttons__3Jh4F"}},,function(e,t,n){e.exports={container:"HamburgerButton_container__19SZ7",line:"HamburgerButton_line__1-tO2",lineTop:"HamburgerButton_lineTop__OFNZC",lineBottom:"HamburgerButton_lineBottom__2rTFR",lineTopOpen:"HamburgerButton_lineTopOpen__yPJr8",lineMiddleOpen:"HamburgerButton_lineMiddleOpen__1knj9",lineBottomOpen:"HamburgerButton_lineBottomOpen__2Jxhv"}},function(e,t,n){e.exports={container:"Sidebar_container__p562K",wrapper:"Sidebar_wrapper__6KAvv",nav:"Sidebar_nav__3odvT",link:"Sidebar_link__3xza0",logout:"Sidebar_logout__1ipKD"}},function(e,t,n){e.exports={container:"RecipeDetailsButtons_container__3ljqy",header:"RecipeDetailsButtons_header__12Uze",headerVisible:"RecipeDetailsButtons_headerVisible__8jT_J",heading:"RecipeDetailsButtons_heading__2orWG",extraInfo:"RecipeDetailsButtons_extraInfo__zSnaO",horLine:"RecipeDetailsButtons_horLine__2knPU",ingredients:"RecipeDetailsButtons_ingredients__1RAc9",preparationWrapper:"RecipeDetailsButtons_preparationWrapper__2oS51",addInfo:"RecipeDetailsButtons_addInfo__3WCj1",buttons:"RecipeDetailsButtons_buttons__2jM0x",btn:"RecipeDetailsButtons_btn__3O8RU",btnSecondary:"RecipeDetailsButtons_btnSecondary__1JBSa",btnPrimary:"RecipeDetailsButtons_btnPrimary__3KUWQ",btnGrey:"RecipeDetailsButtons_btnGrey__3gGi4",delete:"RecipeDetailsButtons_delete__3g0b-",btnPrint:"RecipeDetailsButtons_btnPrint__ZMAZU",recepie:"RecipeDetailsButtons_recepie__1XDFH"}},,,,function(e,t,n){e.exports={container:"RecipeCard_container__gy2rC",wrapper:"RecipeCard_wrapper__2bRdF",heading:"RecipeCard_heading__maw2B",image:"RecipeCard_image__ZSSzd",button:"RecipeCard_button__2XAEA",containerSmall:"RecipeCard_containerSmall__2IWgF"}},function(e,t,n){e.exports={container:"PopUpListItem_container__3snpr",input:"PopUpListItem_input__Ce2bV",select:"PopUpListItem_select__1khy8",button:"PopUpListItem_button__2DgKk",btnDelete:"PopUpListItem_btnDelete__vUmIP"}},function(e,t,n){e.exports={wrapper:"GroceryList_wrapper__2HEok",heading:"GroceryList_heading__13fC3",button:"GroceryList_button__39PJm",buttons:"GroceryList_buttons__1xCY5",listButtons:"GroceryList_listButtons__21AQl"}},,function(e,t,n){e.exports={container:"WelcomeNavigation_container__mZr4H",logo:"WelcomeNavigation_logo__3oezs",nav:"WelcomeNavigation_nav__1p5d5",link:"WelcomeNavigation_link__1Qy-L",customLogo:"WelcomeNavigation_customLogo__3G7C3"}},function(e,t,n){e.exports={wrapper:"Card_wrapper__22WOm",heading:"Card_heading__2_Kcl",list:"Card_list__3fSFT",listItem:"Card_listItem__SgbRi",buttonDelete:"Card_buttonDelete__1oBdf"}},function(e,t,n){e.exports={container:"DayCard_container__3oTgA",header:"DayCard_header__rEjUJ",heading:"DayCard_heading__2dtjs",date:"DayCard_date__1W9KD",buttons:"DayCard_buttons__2fbrx",button:"DayCard_button__zybW_"}},function(e,t,n){e.exports={wrapper:"RecipesPageHeader_wrapper__1U9y-",heading:"RecipesPageHeader_heading__NIpbs",buttons:"RecipesPageHeader_buttons__3wMIO",button:"RecipesPageHeader_button__2M5lq",buttonWrapper:"RecipesPageHeader_buttonWrapper__1FWOv",buttonAdd:"RecipesPageHeader_buttonAdd__1XMd5",search:"RecipesPageHeader_search__2l2Lf",classActiveBtn:"RecipesPageHeader_classActiveBtn__xt0EL",quickAdd:"RecipesPageHeader_quickAdd__1cd6T"}},,,,function(e,t,n){e.exports={container:"WeekPlan_container__1qKQ9",wrapperDays:"WeekPlan_wrapperDays__2FU7q",wrapper:"WeekPlan_wrapper__1VAKz",buttonWrapper:"WeekPlan_buttonWrapper__31Lbw",buttonGenerate:"WeekPlan_buttonGenerate__10EDE"}},function(e,t,n){e.exports={wrapper:"RecipesPageButtons_wrapper__-iCYt",heading:"RecipesPageButtons_heading__1FzZE",buttons:"RecipesPageButtons_buttons__2xeVx",button:"RecipesPageButtons_button__1QgnK",buttonWrapper:"RecipesPageButtons_buttonWrapper__3Uauk",buttonAdd:"RecipesPageButtons_buttonAdd__1oFgF",search:"RecipesPageButtons_search__FmV5W",classActiveBtn:"RecipesPageButtons_classActiveBtn__2yX7i",quickAdd:"RecipesPageButtons_quickAdd__3aZoX"}},function(e,t,n){e.exports={container:"PopUpDelete_container__2tQQH",buttons:"PopUpDelete_buttons__2dZGc",button:"PopUpDelete_button__2JWr9"}},,,,function(e,t,n){e.exports={container:"PopUpInfo_container__30cCo",buttons:"PopUpInfo_buttons__3D9A7",button:"PopUpInfo_button__1LcNr"}},function(e,t,n){e.exports={wrapper:"PlanPage_wrapper__3QqeT",heading:"PlanPage_heading__1mLtI",buttonWrapper:"PlanPage_buttonWrapper__-mMXy",button:"PlanPage_button__9m6ug"}},function(e,t,n){e.exports={container:"FormAddTemplate_container__3Vpye",heading:"FormAddTemplate_heading__2dOv_",close:"FormAddTemplate_close__3C4oi"}},function(e,t,n){e.exports={button:"ButtonIcon_button__G2JJa",icon:"ButtonIcon_icon__125dh",line:"ButtonIcon_line__3xAdW"}},function(e,t,n){e.exports={wrapper:"RecipesGrid_wrapper__3NEDg",wrapperSpinner:"RecipesGrid_wrapperSpinner__1Yo9D"}},function(e,t,n){e.exports={container:"Warning_container__2qm1o",buttons:"Warning_buttons__RpSVl",button:"Warning_button__2Mcjq"}},,,,,,,,,function(e,t,n){e.exports={loaderContainer:"LoadingSpinner_loaderContainer__2yR42",loader:"LoadingSpinner_loader__3nMC2",spin:"LoadingSpinner_spin__3E_l-"}},function(e,t,n){e.exports={container:"PageTemplate_container__21a96",wrapper:"PageTemplate_wrapper__2AqL9",page:"PageTemplate_page__J8C2l",heading:"PageTemplate_heading__2S_yZ"}},function(e,t,n){e.exports={container:"UserPageTemplate_container__3hhu4",wrapper:"UserPageTemplate_wrapper__1rsej",page:"UserPageTemplate_page__ZNSqE",heading:"UserPageTemplate_heading__3Gcqa"}},,function(e,t,n){e.exports={wrapper:"RecipesPage_wrapper__3l8wP",heading:"RecipesPage_heading__-wthV",buttons:"RecipesPage_buttons__aB0W0",button:"RecipesPage_button__3YwNH",buttonWrapper:"RecipesPage_buttonWrapper__iQyi8",buttonAdd:"RecipesPage_buttonAdd__32G9O",search:"RecipesPage_search__2NIez",classActiveBtn:"RecipesPage_classActiveBtn__1ylvX",quickAdd:"RecipesPage_quickAdd__3bOq0"}},function(e,t,n){e.exports={listItem:"ListItem_listItem__7TECT",button:"ListItem_button__3qolF"}},function(e,t,n){},function(e,t,n){e.exports={heading:"DetailedDayPlan_heading__26xyX",header:"DetailedDayPlan_header__24WmG",buttons:"DetailedDayPlan_buttons__2Yy6-",planWrapper:"DetailedDayPlan_planWrapper__2Sub_",mealPlanWrapper:"DetailedDayPlan_mealPlanWrapper__1oMlZ",quickAdd:"DetailedDayPlan_quickAdd__1MEKD",recepiesContainer:"DetailedDayPlan_recepiesContainer__3o6Vs",delete:"DetailedDayPlan_delete__CRxuG"}},,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={container:"WelcomeTemplate_container__1OChg"}},function(e,t,n){e.exports={logo:"Logo_logo__2Gyaq"}},,function(e,t,n){e.exports={button:"SidebarButton_button__2Tm5N",bgPlan:"SidebarButton_bgPlan__3EI7_",bgRecepies:"SidebarButton_bgRecepies__3_pDq",bgGrocerylist:"SidebarButton_bgGrocerylist__2yssE"}},function(e,t,n){e.exports={button:"Button_button__2wAtB"}},function(e,t,n){e.exports={heading:"Heading_heading__2AwRc"}},function(e,t,n){e.exports={paragraph:"Paragraph_paragraph__EQsV0"}},function(e,t,n){e.exports={button:"ButtonIconSmall_button__bbGXj"}},function(e,t,n){e.exports={input:"Search_input__1BaQ0"}},,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),r=n(52),s=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(111);var o=n(10),l=n(6),d="/",u="/login",b="/signup",p="/plan",j="/plan/:id",O="/recipes",_="/recipes/:id",h="/grocerylist",g=n(3),m=n(19),f=n(94),x=n.n(f),v=n(23),C=n.n(v),y=n(41),P=n(7),k=n(13),S=n.n(k),I=function(e,t){switch(t.type){case"FETCH_INIT":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_ERROR":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},N=function(e,t){switch(t.type){case"FETCH_INIT":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_ERROR":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},D=function(e,t){var n=Object(c.useState)({url:e,token:t}),a=Object(g.a)(n,2),i=a[0],r=a[1],s=Object(c.useReducer)(N,{isLoading:!1,isError:!1,data:{}}),o=Object(g.a)(s,2),l=o[0],d=o[1],u=""!==t&&{headers:{Authorization:"Bearer ".concat(i.token)}};return Object(c.useEffect)((function(){var e=!1,t=function(){var t=Object(y.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d({type:"FETCH_INIT"}),t.prev=1,t.next=4,S.a.get(i.url,u);case 4:n=t.sent,e||d({type:"FETCH_SUCCESS",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||d({type:"FETCH_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return""!==i.token&&t(),function(){e=!0}}),[i]),[l,r]},w=n(24),R=n.n(w),A=n(95),L=n.n(A),W=n(5),E=n.n(W),F=function(e){var t=e.custom;return Object(a.jsx)("div",{className:E()(L.a.logo,t)})},T=n(11),B=n(32),M=n.n(B),U=function(e){var t=e.open,n=e.handleClick;return Object(a.jsxs)("div",{className:M.a.container,onClick:function(){return n()},children:[Object(a.jsx)("div",{className:E()(M.a.line,M.a.lineTop,Object(T.a)({},"lineTopOpen",t))}),Object(a.jsx)("div",{className:E()(M.a.line,M.a.lineMiddle,Object(T.a)({},"lineMiddleOpen",t))}),Object(a.jsx)("div",{className:E()(M.a.line,M.a.lineBottom,Object(T.a)({},"lineBottomOpen",t))})]})},G=function(e){var t=e.menuItems,n=Object(c.useState)(!1),i=Object(g.a)(n,2),r=i[0],s=i[1],l=function(){return window.location.reload(),!1},d={height:r?"100%":0};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:R.a.wrapper,children:[Object(a.jsx)(U,{handleClick:function(){s(!r)},open:r}),Object(a.jsx)(F,{custom:R.a.logo})]}),Object(a.jsx)("div",{className:R.a.container,style:d,children:r&&t.map((function(e,t){return Object(a.jsx)("div",{className:R.a.menuList,children:Object(a.jsxs)("div",{className:R.a.itemWrapper,style:{animationDelay:"".concat(.1*t,"s")},children:["Log Out"===e&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:R.a.menuItem,style:{animationDelay:"".concat(.1*t,"s")},onClick:l,children:e}),Object(a.jsx)("div",{className:R.a.line,style:{animationDelay:"".concat(.1*t,"s")}})]}),"Log Out"!==e&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.c,{to:"/".concat(e.replace(" ","").toLowerCase()),children:Object(a.jsx)("div",{className:R.a.menuItem,style:{animationDelay:"".concat(.1*t,"s")},onClick:function(){s(!r)},children:e})}),Object(a.jsx)("div",{className:R.a.line,style:{animationDelay:"".concat(.1*t,"s")}})]})]})},t)}))})]})},H=n(42),q=n.n(H),z={duration:.8,ease:[.43,.13,.23,.96]},Q=function(){Object(l.h)();return Object(a.jsxs)(m.b.div,{exit:{opacity:1},transition:z,className:q.a.container,children:[Object(a.jsx)(F,{custom:q.a.logo}),Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:q.a.nav,children:[Object(a.jsx)("li",{className:q.a.link,children:Object(a.jsx)(o.c,{to:"/signup",children:"Join"})}),Object(a.jsx)("li",{className:q.a.link,children:Object(a.jsx)(o.c,{to:"/login",children:"Log in"})})]})})]})},J=n(33),Y=n.n(J),V=n(97),K=n.n(V),X=function(e){var t=e.children,n=e.bgColor,c=e.border,i=e.custom,r=e.onClick,s=E()(K.a.button,n,c,i);return Object(a.jsx)("button",{className:s,onClick:r,children:t})},Z={duration:.8,ease:[.43,.13,.23,.96]},$=Object(l.i)((function(e){var t=e.pageType;return Object(a.jsx)(m.b.div,{exit:{opacity:1},transition:Z,className:Y.a.container,children:Object(a.jsxs)("nav",{className:Y.a.wrapper,children:[Object(a.jsx)(F,{}),Object(a.jsxs)("ul",{className:Y.a.nav,children:[Object(a.jsx)("li",{className:Y.a.link,children:Object(a.jsx)(o.c,{to:"/plan",children:Object(a.jsx)(X,{border:"borderSecondary",bgColor:"plan"===t&&"bgSecondary",children:"Plan"})})}),Object(a.jsx)("li",{className:Y.a.link,children:Object(a.jsx)(o.c,{to:"/recipes",children:Object(a.jsx)(X,{border:"borderPrimary",bgColor:"recipes"===t&&"bgPrimary",children:"Recipes"})})}),Object(a.jsx)("li",{className:Y.a.link,children:Object(a.jsx)(o.c,{to:"/grocerylist",children:Object(a.jsx)(X,{border:"borderTertiary",bgColor:"grocerylist"===t&&"bgTertiary",children:"Grocery List"})})}),Object(a.jsx)("li",{className:Y.a.link,children:Object(a.jsx)(X,{border:"borderGrey",onClick:function(){return window.location.reload(),!1},children:"Log out"})})]})]})})})),ee=n(9),te=n(29),ne=n.n(te),ae=Object(c.createContext)(),ce="https://fodd-app-server.herokuapp.com/plan",ie="https://fodd-app-server.herokuapp.com/recipes",re=function(e){var t,n=Object(c.useState)([]),i=Object(g.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)([]),l=Object(g.a)(o,2),d=l[0],u=l[1],b=Object(c.useState)(!1),p=Object(g.a)(b,2),j=p[0],O=p[1],_=function(e,t){var n=Object(c.useState)({url:e,userData:t}),a=Object(g.a)(n,2),i=a[0],r=a[1],s=Object(c.useReducer)(I,{isLoading:!1,isError:!1,data:{}}),o=Object(g.a)(s,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){var e,t,n=!1,a=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:"FETCH_INIT"}),e.prev=1,e.next=4,S.a.post(i.url,i.userData);case 4:t=e.sent,n||d({type:"FETCH_SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n||d({type:"FETCH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(null===(e=i.userData)||void 0===e?void 0:e.email.length)>0&&(null===(t=i.userData)||void 0===t?void 0:t.password.length)>0&&a(),function(){n=!0}}),[i]),[l,r]}("",{email:"",password:""}),h=Object(g.a)(_,2),m=h[0],f=h[1],x=D({url:"",token:""}),v=Object(g.a)(x,2),P=v[0],k=v[1],N=D({url:ie,token:null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.token}),w=Object(g.a)(N,2),R=w[0],A=w[1];Object(c.useEffect)((function(){var e;k({url:ce,token:null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.token})}),[m.data.token]);return Object(c.useEffect)((function(){var e,t,n=ne()().format("YYYY-MM-DD"),a=null===(e=P.data)||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.filter((function(e){return ne()(e.date).isAfter(n)||ne()(e.date).isSame(n)?e:null}));P.data.plan&&s(a)}),[P.data.plan]),Object(c.useEffect)((function(){var e;A({url:ie,token:null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.token})}),[m.data.token]),Object(c.useEffect)((function(){var e=[];0!==r.length&&r.map((function(t){return t.recipes&&0!==t.recipes.length?e=[].concat(Object(ee.a)(e),Object(ee.a)(t.recipes)):e}));var t=[];e.map((function(e,n,a){var c={count:a.filter((function(t){return t===e})).length,recipeId:e};return void 0===t.find((function(t){return t.recipeId===e}))?t=[].concat(Object(ee.a)(t),[c]):null})),u(t)}),[r]),Object(c.useEffect)((function(){m.data.token&&R.data.recipes&&P.data.plan&&O(!0)}),[R.data.recipes,P.data.plan]),Object(a.jsx)(ae.Provider,{value:{userLoggedIn:j,token:m.data.token,userId:m.data.userId,authMessage:m.data.message,plan:r,setPlan:s,plannedRecipes:d,recipes:R.data.recipes,authLoading:m.isLoading,recipesLoading:R.isLoading,planLoading:P.isLoading,handleSignUp:function(e,t,n){e.preventDefault(),f({url:"https://fodd-app-server.herokuapp.com/user/signup",userData:{email:t,password:n}})},handleLogIn:function(e,t,n){e.preventDefault(),f({url:"https://fodd-app-server.herokuapp.com/user/login",userData:{email:t,password:n}})},handleLogOut:function(e,t,n){e.preventDefault();var a={email:t,password:n};S.a.post("https://fodd-app-server.herokuapp.com/user/logout",a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},getPlan:function(){var e;k({url:ce,token:null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.token})},getRecipes:function(){var e;A({url:ce,token:null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.token})}},children:e.children})},se=function(e){var t=e.pageType,n=function(){var e=Object(c.useState)(window.innerWidth),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{width:n}}().width,i=1260,r=Object(c.useContext)(ae).userLoggedIn;return Object(a.jsxs)("div",{children:[n<i&&r&&Object(a.jsx)(G,{menuItems:["Plan","Recipes","Grocery List","Log Out"]}),n>=i&&r&&Object(a.jsx)($,{pageType:t}),n<i&&!r&&Object(a.jsx)(G,{menuItems:["Log in","Sign up"]}),n>=i&&!r&&Object(a.jsx)(Q,{})]})},oe=function(e){var t=e.children;return Object(a.jsxs)("div",{className:x.a.container,children:[Object(a.jsx)(se,{}),t]})},le=n(69),de=n.n(le),ue=function(){return Object(a.jsx)("div",{className:de.a.loaderContainer,children:Object(a.jsx)("div",{className:de.a.loader})})},be=n(98),pe=n.n(be),je=function(e){var t=e.children,n=e.bgColor,c=e.custom,i=e.onClick,r=E()(pe.a.button,n,c);return Object(a.jsx)("button",{className:r,onClick:i,children:t})},Oe=n(18),_e=n.n(Oe),he=Object(l.i)((function(e){var t=Object(c.useState)("plan"),n=Object(g.a)(t,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){return function(){var t=e.location.pathname,n=["plan","recipes","grocerylist","signup","login"].filter((function(e){return t.includes(e)})),c=Object(g.a)(n,1)[0];a!==c&&i(c)}()})),e.render(a)})),ge=n(55),me=n.n(ge),fe=function(e){var t=e.text,n=e.onClick,i=Object(c.useMemo)((function(){return{bgColor:"bgSecondary",custom:me.a.button,onClick:n}}),[]);return Object(a.jsxs)("div",{className:me.a.container,children:[Object(a.jsx)("h3",{children:t}),Object(a.jsx)("div",{className:me.a.buttons,children:Object(a.jsx)(je,{bgColor:i.bgColor,custom:i.custom,onClick:i.onClick,children:"Ok"})})]})},xe={duration:.4,ease:[.43,.13,.23,.96]},ve=function(){var e=Object(c.useState)(""),t=Object(g.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),s=Object(g.a)(r,2),d=s[0],u=s[1],b=Object(c.useState)(!1),p=Object(g.a)(b,2),j=p[0],O=p[1],_=Object(c.useContext)(ae),h=_.handleSignUp,f=_.handleLogIn,x=_.userLoggedIn,v=_.authLoading,C=_.recipesLoading,y=(_.planLoading,_.authMessage);Object(c.useEffect)((function(){"User created"===y&&O(!j)}),[y]);var P=function(e){var t=e.target.value;"email"===e.target.name?i(t):u(t)};return Object(a.jsx)(he,{render:function(e){return Object(a.jsxs)(oe,{children:[Object(a.jsxs)(m.b.div,{initial:{opacity:1},exit:{opacity:0},transition:xe,className:_e.a.container,children:[Object(a.jsxs)("h1",{className:_e.a.formTitle,children:["signup"===e&&"Sign up!","login"===e&&"Log in"]}),Object(a.jsxs)("form",{className:_e.a.formWrapper,onSubmit:function(t){"signup"===e&&h(t,n,d),"login"===e&&f(t,n,d)},children:[Object(a.jsxs)("div",{className:_e.a.formWrapper,children:[Object(a.jsx)("label",{className:_e.a.label,htmlFor:"email",children:"Your email:"}),Object(a.jsx)("input",{name:"email",type:"email",className:_e.a.input,onChange:P})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:_e.a.label,htmlFor:"password",children:"Your password:"}),Object(a.jsx)("input",{name:"password",type:"password",className:_e.a.input,onChange:P})]}),Object(a.jsxs)(je,{bgColor:"bgSecondary",type:"submit",custom:_e.a.button,children:["signup"===e&&"Sign up","login"===e&&"Log in"]}),"login"===e&&Object(a.jsx)(o.b,{to:"/signup",className:_e.a.link,children:"I want to create account"}),"signup"===e&&Object(a.jsx)(o.b,{to:"/login",className:_e.a.link,children:"I want to log in"})]}),x&&Object(a.jsx)(l.a,{to:"/plan"})]}),(v||C)&&Object(a.jsx)("div",{className:_e.a.loading,children:Object(a.jsx)(ue,{})}),j&&Object(a.jsx)(fe,{text:"Your account has been created successfuly, now you can log in",onClick:O(!j),isPopUp:j})]})}})},Ce=n(25),ye=n.n(Ce),Pe=n(99),ke=n.n(Pe),Se=function(e){var t=e.children,n=e.custom,c=E()(ke.a.heading,n);return Object(a.jsx)("h1",{className:c,children:t})},Ie=n(100),Ne=n.n(Ie),De=function(e){var t=e.children,n=e.custom,c=E()(Ne.a.paragraph,n);return Object(a.jsx)("p",{className:c,children:t})},we=function(){var e=Object(c.useState)(!1),t=Object(g.a)(e,2),n=t[0],i=t[1],r=E()(ye.a.image,Object(T.a)({},ye.a.imageOpen,n)),s=E()(ye.a.container,Object(T.a)({},ye.a.containerOpen,n)),l=E()(ye.a.wrapper,Object(T.a)({},ye.a.wrapperOpen,n));return Object(a.jsx)(oe,{children:Object(a.jsxs)("section",{className:s,children:[Object(a.jsx)(m.a,{children:Object(a.jsxs)(m.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:l,children:[Object(a.jsxs)(Se,{custom:ye.a.heading,children:["Easy way to",Object(a.jsx)("br",{}),"stay healthy"]}),Object(a.jsxs)(De,{custom:ye.a.paragraph,children:["Plan your meals, create cooking",Object(a.jsx)("br",{}),"book and more"]}),Object(a.jsx)(o.b,{to:b,children:Object(a.jsx)(je,{bgColor:"bgPrimaryDark",custom:ye.a.button,onClick:function(){return i(!n)},children:"Start now"})})]})}),Object(a.jsx)(m.a,{children:Object(a.jsx)(m.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{duration:.8,type:"tween"},exit:{x:"100vw"},className:r})})]})})},Re=n(70),Ae=n.n(Re),Le=n(71),We=n.n(Le),Ee=function(e){var t=e.children;return Object(a.jsx)(he,{render:function(e){return Object(a.jsx)("div",{className:We.a.container,children:Object(a.jsxs)("div",{className:We.a.card,children:[Object(a.jsx)(se,{pageType:e}),t]})})}})},Fe=function(e){var t=e.children,n=e.border,c=e.bgColorLight,i=E()(Ae.a.wrapper,n,c);return Object(a.jsx)(Ee,{children:Object(a.jsx)("div",{className:i,children:Object(a.jsx)("div",{className:Ae.a.page,children:t})})})},Te=n(43),Be=n.n(Te),Me=n(101),Ue=n.n(Me),Ge=function(e){var t=e.bgImage,n=e.btnSize,c=e.custom,i=e.onClick,r=E()(Ue.a.button,t,n,c);return Object(a.jsx)("button",{type:"button",className:r,onClick:i})},He=function(e){var t=e.meal,n=e.savedRecipes,c=e.handleAddRecipe,i=e.handleDelete;return Object(a.jsxs)("div",{className:Be.a.wrapper,children:[Object(a.jsxs)("div",{className:Be.a.heading,children:[Object(a.jsx)("h3",{children:t}),c&&Object(a.jsx)(Ge,{bgImage:"buttonAdd",btnSize:"btn30",onClick:function(){return c(t)},type:"button"})]}),n&&n.length>0&&Object(a.jsx)("ul",{className:Be.a.list,children:n.map((function(e,n){return Object(a.jsxs)("li",{className:Be.a.listItem,children:[i&&Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",custom:Be.a.buttonDelete,onClick:function(){return i(t,e)}}),Object(a.jsx)("div",{children:e.title})]},"".concat(e.title,"-").concat(e.id,"-").concat(t,"-").concat(n))}))})]})},qe=n(44),ze=n.n(qe),Qe="plan",Je="recipes",Ye=["breakfast","lunch","dinner","snacks"],Ve=function(e){var t=e.day,n=e.plan,c=void 0===n?[]:n,i=e.date,r=e.planId;return Object(a.jsxs)("section",{className:ze.a.container,children:[Object(a.jsx)("div",{className:ze.a.header,children:Object(a.jsx)(o.b,{to:"/plan/".concat(r),children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:ze.a.heading,children:t}),Object(a.jsx)("p",{className:ze.a.date,children:i}),Object(a.jsx)("button",{className:ze.a.buttonMore})]})})}),Ye.map((function(e){return Object(a.jsx)(He,{meal:e,savedRecipes:c?c[e]:[]},e)}))]})},Ke=n(49),Xe=n.n(Ke),Ze=function(e){var t=e.toggle,n=Object(c.useContext)(ae).plan;return n.length>0?Object(a.jsx)("div",{className:Xe.a.container,children:Object(a.jsx)("div",{className:Xe.a.wrapperDays,children:n&&n.map((function(e){return Object(a.jsx)(Ve,{day:e.day,date:e.date,plan:e.plan,planId:e._id},e._id)}))})}):Object(a.jsx)("div",{className:Xe.a.buttonWrapper,children:Object(a.jsx)(je,{bgColor:"bgSecondary",custom:Xe.a.buttonGenerate,onClick:t,children:"Plan your meals!"})})},$e=n(56),et=n.n($e),tt=n(26),nt=n.n(tt),at=n(57),ct=n.n(at),it=function(e){var t=e.children,n=e.classOpen,c=e.toggle,i=(e.clearForm,E()(ct.a.container,n));return Object(a.jsx)(he,{render:function(e){return Object(a.jsxs)("div",{className:i,children:[Object(a.jsxs)(Se,{custom:ct.a.heading,children:[e===Qe&&"Plan your meals",e===Je&&"Add a recipe"]}),t,Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",custom:ct.a.close,onClick:function(){c(!1)}})]})}})},rt=n(27),st=n.n(rt),ot=n(102),lt=n.n(ot),dt=function(e){var t=e.custom,n=e.onChange,c=E()(lt.a.input,t);return Object(a.jsx)("input",{className:c,type:"text",onChange:n,placeholder:"what do you want to eat?"})},ut=function(e){var t=e.meal,n=e.handleSaveRecipe,i=e.handleClose,r=Object(c.useContext)(ae),s=r.recipes,o=r.status,l=Object(c.useState)(""),d=Object(g.a)(l,2),u=d[0],b=d[1];return"LOADING"===o?Object(a.jsxs)("section",{className:st.a.recepies,children:[Object(a.jsx)("button",{className:st.a.closeIcon,onClick:i,type:"button"}),Object(a.jsx)(ue,{})]}):"ERROR"===o?Object(a.jsxs)("section",{className:st.a.recepies,children:[Object(a.jsx)("button",{className:st.a.closeIcon,onClick:i,type:"button"}),Object(a.jsx)("div",{children:"Unable to load recipes list"})]}):Object(a.jsxs)("section",{className:st.a.recepies,children:[Object(a.jsx)("button",{className:st.a.closeIcon,onClick:i,type:"button"}),Object(a.jsx)(dt,{custom:st.a.search,value:u,onChange:function(e){b(e.target.value)}}),Object(a.jsx)("ul",{className:st.a.list,children:s.filter((function(e){return e.title.includes(u.toLowerCase())})).map((function(e){return Object(a.jsx)("li",{className:st.a.listItem,children:Object(a.jsx)("button",{"data-title":e.title,onClick:function(){return n(e,t)},type:"button",children:e.title})},e._id)}))})]})},bt=function(e,t){return{formatDate:ne()(e).format(t)}},pt=n(54),jt=n.n(pt),Ot=Object(c.createContext)(),_t=function(e){var t=Object(c.useState)("LOADING"),n=Object(g.a)(t,2),i=n[0],r=(n[1],Object(c.useState)("")),s=Object(g.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)({title:"",category:[],ingredients:[],preparation:[],time:"",servings:"",info:"",recipeImage:""}),b=Object(g.a)(u,2),p=b[0],j=b[1],O=Object(c.useContext)(ae),_=O.token,h=(O.getRecipes,Object(l.h)()),m=h?h.pathname.split("/")[2]:"",f={headers:{Authorization:"Bearer ".concat(_)}},x={headers:{Authorization:"Bearer ".concat(_),"Content-Type":"multipart/form-data"}},v=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.get("https://fodd-app-server.herokuapp.com/recipes/".concat(t),f).then((function(e){j(e.data)})).catch((function(e){console.log("Something went wrong ".concat(e)),d(e.response.status)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){S.a.post("https://fodd-app-server.herokuapp.com/recipes",e,x).then((function(e){console.log(e)})).catch((function(e){console.log("Something went wrong ".concat(e))}))};return Object(a.jsx)(Ot.Provider,{value:{status:i,getSingleRecipe:v,recipe:p,createRecipe:P,sendRecipe:function(e){m?function(e){S.a.patch("https://fodd-app-server.herokuapp.com/recipes/".concat(m),e,f).then((function(e){console.log(e)})).catch((function(e){console.log("Something went wrong ".concat(e))}))}(e):P(e)},deleteRecipe:function(){""!==m&&S.a.delete("https://fodd-app-server.herokuapp.com/recipes/".concat(m),f).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},error:o,setError:d},children:e.children})},ht=function(e){var t,n=e.date,c=e.setDate,i=e.handleAddRecipe,r=e.handleDeleteRecipe,s=e.toggle,o=e.classOpen,d=e.savedRecipes,u=e.handleSubmit;return t="/plan"===Object(l.h)().pathname?"Add":"Save",Object(a.jsx)(it,{classOpen:o,toggle:s,children:Object(a.jsxs)("form",{className:nt.a.form,children:[Object(a.jsx)("label",{className:nt.a.label,htmlFor:"day",children:"Which day do you want to plan?"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(jt.a,{onChange:c,value:n,format:"y-MM-dd",minDate:new Date,className:nt.a.datePicker,calendarClassName:nt.a.calendar,required:!0}),n&&Object(a.jsx)("p",{className:nt.a.displayDay,children:bt(n,"dddd").formatDate})]}),Object(a.jsxs)("div",{className:nt.a.wrapper,children:[""!==n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:nt.a.heading,children:"Plan your week by adding recipes from the list"}),Object(a.jsx)("div",{className:nt.a.meals,children:Ye.map((function(e){return Object(a.jsx)(He,{meal:e,handleAddRecipe:i,handleDelete:r,savedRecipes:d[e]},e)}))})]}),Object(a.jsx)(je,{type:"submit",bgColor:"bgSecondary",custom:nt.a.button,onClick:u,children:t})]})]})})},gt=function(e){var t=Object(c.useState)(!1),n=Object(g.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(""),o=Object(g.a)(s,2),l=o[0],d=o[1],u=Object(c.useState)({breakfast:[],lunch:[],dinner:[],snacks:[]}),b=Object(g.a)(u,2),p=b[0],j=b[1],O=Object(c.useState)(""),_=Object(g.a)(O,2),h=_[0],m=_[1],f=e.classOpen,x=e.sendPlan,v=e.planToEdit,C=e.toggle,y=Object(c.useContext)(ae).getPlan;Object(c.useEffect)((function(){""===f&&(d(""),j({breakfast:[],lunch:[],dinner:[],snacks:[]}))}),[f]),Object(c.useEffect)((function(){d(v.date),j(v.plan)}),[v]);var k=function(e){if(void 0===p[h].find((function(t){return t._id===e._id}))){var t={_id:e._id,title:e.title},n=[].concat(Object(ee.a)(p[h]),[t]);j(Object(P.a)(Object(P.a)({},p),Object(T.a)({},h,n)))}},S=Object(c.useCallback)((function(e,t){var n=p[e].filter((function(e){return e._id!==t._id}));j(Object(P.a)(Object(P.a)({},p),Object(T.a)({},e,n)))}),[p]),I=Object(c.useCallback)((function(){r(!i)}),[i]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ht,Object(P.a)({date:l,setDate:d,open:i,setOpen:r,meal:h,savedRecipes:p,handleAddRecipe:function(e){m(e),r(!0)},handleDeleteRecipe:S,handleSaveRecipe:k,handleClosePopUp:I,handleSubmit:function(e){e.preventDefault(),d(""),j({breakfast:[],lunch:[],dinner:[],snacks:[]});var t=bt(l,"dddd").formatDate,n=bt(l,"YYYY-MM-DD").formatDate;x(n,t,p),C(),y()}},e)),i&&Object(a.jsx)(ut,{handleSaveRecipe:k,handleClose:I})]})},mt=n(58),ft=n.n(mt),xt=function(e){var t=e.bgColor,n=void 0===t?"bgWhite":t,c=e.custom,i=e.lineColor,r=void 0===i?"borderWhite":i,s=e.onClick,o=E()(ft.a.icon),l=E()(ft.a.line,r),d=E()(ft.a.button,n,c);return Object(a.jsx)("button",{className:d,onClick:s,children:Object(a.jsxs)("div",{className:o,children:[Object(a.jsx)("div",{className:l}),Object(a.jsx)("div",{className:l})]})})},vt=function(e){var t=Object(c.useState)(!1),n=Object(g.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(g.a)(r,2),o=s[0],l=s[1];Object(c.useEffect)((function(){l(a?"activeForm":"")}),[a]);var d={classOpen:o,toggle:function(){i(!a)}};return e.render(d)},Ct=Object(c.createContext)(),yt=function(e){var t=Object(c.useContext)(ae),n=t.plan,i=t.getPlan,r=Object(c.useState)({day:"",date:"",plan:{breakfast:[],lunch:[],dinner:[],snacks:[]}}),s=Object(g.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)({day:"",date:"",plan:{breakfast:[],lunch:[],dinner:[],snacks:[]}}),u=Object(g.a)(d,2),b=u[0],p=u[1],j=Object(c.useContext)(ae),O=j.token,_=(j.userId,{headers:{Authorization:"Bearer ".concat(O)}}),h=function(e,t,n){var a={day:t,date:e,recipes:n};S.a.post("https://fodd-app-server.herokuapp.com/plan",a,_).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},m=function(e,t){S.a.patch("https://fodd-app-server.herokuapp.com/plan/".concat(e),t,_).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return Object(a.jsx)(Ct.Provider,{value:{getPlanById:function(e){S.a.get("https://fodd-app-server.herokuapp.com/plan/".concat(e),_).then((function(e){l(e.data)})).catch((function(e){console.log(e)}))},savePlan:h,sendPlan:function(e,t,a){if(0===n.filter((function(t){return t.date===e})).length)h(e,t,a);else{var c=n.filter((function(t){if(t.date===e)return t})),i=Object(g.a)(c,1)[0],r={date:e,day:t,plan:a};r&&m(i._id,r)}},deletePlan:function(e){S.a.delete("https://fodd-app-server.herokuapp.com/plan/".concat(e),_).then((function(e){console.log(e),i()})).catch((function(e){console.log(e)}))},dayPlan:o,planToEdit:b,setPlanToEdit:p,updatePlan:m,addRecipeToPlan:function(e,t,a){var c=ne()(e).format("YYYY-MM-DD");if(0===n.filter((function(e){return e.date===c})).length){var i={breakfast:[],lunch:[],dinner:[],snacks:[]};i[t]=[].concat(Object(ee.a)(i[t]),[a]);var r=ne()(e).format("dddd");h(c,r,i)}else{var s=n.filter((function(e){return e.date===c?e:{}})),o=Object(g.a)(s,1)[0],l=o.plan[t].filter((function(e){return e._id===a._id?e:[]}));o&&0===l.length&&(o.plan[t]=[].concat(Object(ee.a)(o.plan[t]),[a]),m(o._id,o))}},setDayPlan:l},children:e.children})},Pt=function(){var e=Object(c.useContext)(Ct),t=e.sendPlan,n=e.planToEdit;return!1===Object(c.useContext)(ae).userLoggedIn?Object(a.jsx)(l.a,{to:"/login"}):Object(a.jsx)(vt,{render:function(e){var c=e.toggle,i=e.classOpen;return Object(a.jsxs)(Fe,{border:"borderSecondary",children:[Object(a.jsxs)("div",{className:et.a.wrapper,children:[Object(a.jsx)(Ze,{toggle:c}),Object(a.jsx)("div",{className:et.a.buttonWrapper,children:Object(a.jsx)(xt,{bgColor:"bgSecondary",custom:et.a.button,onClick:c})})]}),"activeForm"===i&&Object(a.jsx)(gt,{toggle:c,classOpen:i,planToEdit:n,sendPlan:t})]})}})},kt=n(73),St=n.n(kt),It=n(59),Nt=n.n(It),Dt=n(38),wt=n.n(Dt),Rt=n.p+"static/media/2499038.20e31ad8.jpg",At=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)},Lt=(n(88),function(e){var t,n=e.item,c=e.handleQuickAdd,i=e.small;if(At){var r=n.recipeImage&&n.recipeImage.img.data.data,s=At(r);t=s?"url(data:image/jpeg;base64,".concat(s,")"):"url(".concat(Rt,")")}var l=E()(wt.a.container,Object(T.a)({},"".concat(wt.a.containerSmall),i));return Object(a.jsxs)("div",{className:l,children:[Object(a.jsx)(o.b,{to:"/recipes/".concat(n._id),children:Object(a.jsxs)("div",{className:wt.a.wrapper,children:[Object(a.jsx)("h2",{className:wt.a.heading,children:n.title}),i&&Object(a.jsx)("p",{children:"Go to recipe"}),!i&&Object(a.jsx)("div",{className:wt.a.image,style:{backgroundImage:t}})]})}),Object(a.jsx)(xt,{custom:wt.a.button,bgColor:"bgWhite",lineColor:"borderPrimary",onClick:function(){return c(n)}})]})}),Wt=function(e){var t=e.containerSelector,n=e.itemId,i=e.item,r=e.handleQuickAdd,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useState)(!1),a=Object(g.a)(n,2),i=a[0],r=a[1],s=Object(c.useRef)();return Object(c.useEffect)((function(){var n=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(r(!0),!1===t&&(n=n.disconnect())):t&&r(!1)}))}),{root:document.querySelector(e)});n.observe(s.current)}),[]),[i,s]}(t,!0),o=Object(g.a)(s,2),l=o[0],d=o[1];return Object(a.jsx)("div",{className:"sub-load",ref:d,children:l?Object(a.jsx)(Lt,{itemId:n,item:i,bgColor:"bgPrimary",handleQuickAdd:r}):Object(a.jsx)("div",{style:{width:200,height:450},children:Object(a.jsx)(ue,{})})})},Et=function(e){var t=e.meal,n=e.inputContent,i=e.handleQuickAdd,r=Object(c.useContext)(ae),s=r.recipes,o=r.recipesLoading,l=E()("list",Nt.a.wrapper),d="all"===t?s:s.filter((function(e){return e.category.includes(t)}));return o||!d?Object(a.jsx)("section",{className:E()(Nt.a.wrapper,Nt.a.wrapperSpinner),children:Object(a.jsx)(ue,{})}):Object(a.jsx)("section",{className:l,children:d&&d.filter((function(e){return e.title.includes(n)})).map((function(e){return Object(a.jsx)(Wt,{containerSelector:".list",itemId:e._id,handleQuickAdd:i,item:e},e._id)}))})},Ft=n(30),Tt=n.n(Ft),Bt=function(e){var t=e.item,n=e.setOpen,i=e.custom,r=Object(c.useContext)(Ct).addRecipeToPlan,s=Object(c.useState)(""),o=Object(g.a)(s,2),l=o[0],d=o[1],u=Object(c.useState)(""),b=Object(g.a)(u,2),p=b[0],j=b[1],O=E()(Tt.a.wrapper,i);return Object(a.jsxs)("section",{className:O,children:[Object(a.jsx)("h2",{className:Tt.a.heading,children:"Add recipe to your plan"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{className:Tt.a.paragraph,children:["Selected recipe: ",Object(a.jsx)("b",{children:t.title})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(jt.a,{onChange:d,value:l,format:"y-MM-dd",minDate:new Date,className:Tt.a.datePicker,calendarClassName:Tt.a.calendar,required:!0}),l&&Object(a.jsx)("p",{className:Tt.a.displayDay,children:bt(l,"dddd").formatDate})]}),Object(a.jsxs)("select",{name:"meal",className:Tt.a.select,value:p,onChange:function(e){return j(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"select a meal"}),Object(a.jsx)("option",{value:"breakfast",children:"Breakfast"}),Object(a.jsx)("option",{value:"lunch",children:"Lunch"}),Object(a.jsx)("option",{value:"dinner",children:"Dinner"}),Object(a.jsx)("option",{value:"snacks",children:"Snacks"})]})]}),Object(a.jsxs)("div",{className:Tt.a.buttons,children:[Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",onClick:function(){return n(!1)}}),Object(a.jsx)(Ge,{bgImage:"buttonAdd",btnSize:"btn30",onClick:function(){return function(e,t,a){var c={_id:a._id,title:a.title};r(e,t,c),n(!1)}(l,p,t)}})]})]})},Mt=n(8),Ut=n.n(Mt),Gt=n(74),Ht=n.n(Gt),qt=function(e){var t=e.item,n=e.handleDeleteIngredient;return Object(a.jsxs)("li",{className:Ht.a.listItem,children:[Object(a.jsx)("span",{children:t.title}),Object(a.jsxs)("span",{children:[t.amount," ",t.unit]}),Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",type:"button",custom:Ht.a.button,onClick:function(){return n(t)}})]})},zt=n(60),Qt=n.n(zt),Jt=function(e){var t=e.setWarningOpen,n=e.warningOpen,i=e.warningField,r=e.setWarningField,s=e.custom,o=E()(Qt.a.container,s),l=Object(c.useMemo)((function(){return{bgColor:"bgSecondary",custom:Qt.a.button,onClick:function(){t(!n),r("")}}}),[t]);return Object(a.jsxs)("div",{className:o,children:["file"!==i&&Object(a.jsxs)("h3",{children:["Please fill the ",Object(a.jsx)("em",{children:i})," field"]}),"file"===i&&Object(a.jsx)("h3",{children:"Please add a photo!"}),Object(a.jsx)("div",{className:Qt.a.buttons,children:Object(a.jsx)(je,{bgColor:l.bgColor,custom:l.custom,onClick:l.onClick,children:"Ok"})})]})},Yt=function(e){var t,n=e.classOpen,c=e.toggle,i=e.title,r=e.setTitle,s=e.meals,o=(e.setMeals,e.ingredientTitle),d=e.setIngredientTitle,u=e.ingredientAmount,b=e.setIngredientAmount,p=e.ingredientUnit,j=e.setIngredientUnit,O=e.time,_=e.setTime,h=e.servings,g=e.setServings,m=e.addInfo,f=e.setAddInfo,x=e.editStep,v=e.step,C=e.content,y=e.setContent,P=e.ingredients,k=e.preparation,S=e.handleAddIngredient,I=e.handleDeleteIngredient,N=e.handleStepChange,D=e.handleAddPrepStep,w=e.handleEditPrepStep,R=e.handleDeletePrepStep,A=e.handleInputMeals,L=e.handleFileUpload,W=e.handleSubmit,F=e.warningOpen,B=e.setWarningOpen,M=e.warningField,U=e.setWarningField;return t="/recipes"===Object(l.h)().pathname?"Add":"Save",Object(a.jsx)(it,{classOpen:n,toggle:c,children:Object(a.jsxs)("form",{className:Ut.a.form,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"title",children:"Write a title:"}),Object(a.jsx)("input",{type:"text",name:"title",id:"title",value:i,className:Ut.a.titleInput,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"file",children:"Add recipe image"}),Object(a.jsx)("input",{type:"file",name:"file",id:"file",className:Ut.a.titleInput,onChange:function(e){return L(e)}})]}),Object(a.jsx)("p",{className:Ut.a.paragraphLabel,children:"Choose category of the recipe:"}),Object(a.jsx)("div",{className:Ut.a.wrapper,children:Ye.map((function(e){return Object(a.jsxs)("div",{className:Ut.a.mealInput,children:[Object(a.jsx)("input",{type:"checkbox",name:e,id:e,value:e,className:Ut.a.hidden,onChange:function(e){return A(e)}}),Object(a.jsx)("label",{htmlFor:e,className:E()(Ut.a.label,Object(T.a)({},"".concat(Ut.a.selectedMeal),s.includes(e))),children:e})]},e)}))}),Object(a.jsxs)("div",{className:Ut.a.container,children:[Object(a.jsx)("p",{className:Ut.a.paragraphLabel,children:"Ingredients"}),Object(a.jsxs)("div",{className:Ut.a.ingredientWrapper,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"ingredientTitle",children:"Type an ingredient:"}),Object(a.jsx)("input",{type:"text",name:"ingredientTitle",id:"ingredientTitle",value:o,className:Ut.a.titleInput,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"amount",children:"Amount:"}),Object(a.jsx)("input",{type:"number",name:"amount",id:"amount",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsxs)("label",{htmlFor:"unit",children:["Choose unit:",Object(a.jsxs)("select",{value:p,name:"unit",onChange:function(e){return j(e.target.value)},children:[Object(a.jsx)("option",{value:"g",children:"g"}),Object(a.jsx)("option",{value:"kg",children:"kg"}),Object(a.jsx)("option",{value:"ml",children:"ml"}),Object(a.jsx)("option",{value:"l",children:"l"}),Object(a.jsx)("option",{value:"tsp",children:"tsp"}),Object(a.jsx)("option",{value:"tbsp",children:"tbsp"}),Object(a.jsx)("option",{value:"pinch",children:"pinch"}),Object(a.jsx)("option",{value:"-",children:"-"})]})]}),Object(a.jsx)(Ge,{bgImage:"buttonAdd",btnSize:"btn30",type:"button",custom:Ut.a.button,onClick:S})]}),0!==P.length&&Object(a.jsx)("ul",{className:Ut.a.ingredientsList,children:P.map((function(e){return Object(a.jsx)(qt,{item:e,handleDeleteIngredient:function(){return I(e)}},e.id)}))})]}),Object(a.jsxs)("div",{className:Ut.a.preparationWrapper,children:[Object(a.jsx)("p",{className:Ut.a.paragraphLabel,children:"Preparation"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"content",children:"Step"}),Object(a.jsx)("input",{name:"step",type:"number",value:x||v,max:"100",maxLength:"2",className:Ut.a.inputStep,onChange:function(e){return N(e)}})]}),Object(a.jsx)("textarea",{id:"content",name:"content",value:C,onChange:function(e){return y(e.target.value)}}),Object(a.jsx)(Ge,{bgImage:"buttonAdd",btnSize:"btn30",type:"button",custom:Ut.a.button,onClick:D}),0!==k.length&&Object(a.jsx)("ul",{children:k.sort((function(e,t){return e.step-t.step})).map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("p",{className:Ut.a.paragraphLabel,children:[Object(a.jsxs)("span",{children:["Step ",e.step]}),Object(a.jsx)(Ge,{bgImage:"buttonEdit",btnSize:"btn20",type:"button",custom:Ut.a.button,onClick:function(){return w(e)}}),Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",type:"button",custom:Ut.a.button,onClick:function(){return R(e)}})]}),e.content]},e.step)}))})]}),Object(a.jsxs)("div",{className:Ut.a.extraWrapper,children:[Object(a.jsx)("p",{className:Ut.a.paragraphLabel,children:"Extra info"}),Object(a.jsxs)("div",{className:Ut.a.rowWrapper,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"time",children:"Preparation time:"}),Object(a.jsx)("input",{type:"text",name:"time",id:"time",value:O,onChange:function(e){return _(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"servings",children:"Servings:"}),Object(a.jsx)("input",{type:"text",name:"servings",id:"servings",value:h,onChange:function(e){return g(e.target.value)}})]})]}),Object(a.jsx)("label",{htmlFor:"addInfo",children:"Additional info:"}),Object(a.jsx)("textarea",{id:"addInfo",name:"addInfo",value:m,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("div",{className:Ut.a.warningWrapper,children:F&&Object(a.jsx)(Jt,{setWarningOpen:B,warningOpen:F,warningField:M,setWarningField:U})})]}),Object(a.jsx)(je,{type:"submit",bgColor:"bgPrimary",onClick:function(e){return W(e)},children:t})]})})},Vt=function(e){var t=Object(c.useContext)(Ot).sendRecipe,n=Object(c.useContext)(ae).plan,i=Object(c.useState)(1),r=Object(g.a)(i,2),s=r[0],o=r[1],l=Object(c.useState)(null),d=Object(g.a)(l,2),u=d[0],b=d[1],p=Object(c.useState)(""),j=Object(g.a)(p,2),O=j[0],_=j[1],h=Object(c.useState)(""),m=Object(g.a)(h,2),f=m[0],x=m[1],v=Object(c.useState)(""),C=Object(g.a)(v,2),y=C[0],k=C[1],S=Object(c.useState)(""),I=Object(g.a)(S,2),N=I[0],D=I[1],w=Object(c.useState)(""),R=Object(g.a)(w,2),A=R[0],L=R[1],W=Object(c.useState)(""),E=Object(g.a)(W,2),F=E[0],T=E[1],B=Object(c.useState)([]),M=Object(g.a)(B,2),U=M[0],G=M[1],H=Object(c.useState)(""),q=Object(g.a)(H,2),z=q[0],Q=q[1],J=Object(c.useState)(""),Y=Object(g.a)(J,2),V=Y[0],K=Y[1],X=Object(c.useState)("-"),Z=Object(g.a)(X,2),$=Z[0],te=Z[1],ne=Object(c.useState)([]),ce=Object(g.a)(ne,2),ie=ce[0],re=ce[1],se=Object(c.useState)([]),oe=Object(g.a)(se,2),le=oe[0],de=oe[1],ue=Object(c.useState)(""),be=Object(g.a)(ue,2),pe=be[0],je=be[1],Oe=Object(c.useState)(!1),_e=Object(g.a)(Oe,2),he=_e[0],ge=_e[1],me=Object(c.useState)(""),fe=Object(g.a)(me,2),xe=fe[0],ve=fe[1],Ce=e.classOpen,ye=e.toggle,Pe=e.recipeToEdit;Object(c.useEffect)((function(){Pe&&(k(Pe.title),D(Pe.time),L(Pe.servings),T(Pe.info),G(Pe.category),re(Pe.ingredients),de(Pe.preparation))}),[Pe]);return console.log(n),Object(a.jsx)(Yt,Object(P.a)({classOpen:Ce,toggle:ye,title:y,setTitle:k,meals:U,setMeals:G,ingredientTitle:z,setIngredientTitle:Q,ingredientAmount:V,setIngredientAmount:K,ingredientUnit:$,setIngredientUnit:te,time:N,setTime:D,servings:A,setServings:L,addInfo:F,setAddInfo:T,editStep:u,step:s,content:O,editContent:f,setContent:_,ingredients:ie,preparation:le,handleInputMeals:function(e){var t=e.target,n=t.checked,a=t.name;if(n)G((function(e){return[].concat(Object(ee.a)(e),[a])}));else{var c=U.filter((function(e){return!e.includes(a)}));G(c)}},handleAddIngredient:function(){var e={id:Math.floor(1e3*Math.random()),title:z,amount:V,unit:$};re((function(t){return[].concat(Object(ee.a)(t),[e])}))},handleFileUpload:function(e){var t=e.target.files[0];je(t)},handleDeleteIngredient:function(e){var t=ie.filter((function(t){return t.id!==e.id}));re(t)},handleStepChange:function(e){o(Math.floor(parseInt(e.target.value)))},handleAddPrepStep:function(){var e;e=u?{step:u,content:O}:{step:s,content:O};var t=le.filter((function(e){return e.step!==u&&e.step!==s})),n=u&&s;de((function(){return[].concat(Object(ee.a)(t),[e])})),o(n||function(e){return e+1}),_(""),x(""),b(null)},handleEditPrepStep:function(e){b(e.step),_(e.content)},handleDeletePrepStep:function(e){var t=le.filter((function(t){return t.step!==e.step}));de(t)},handleSubmit:function(e){if(e.preventDefault(),""===y)ge(!0),ve("title");else if(0===U.length)ge(!0),ve("category");else if(0===ie.length)ge(!0),ve("ingredients");else if(0===le.length)ge(!0),ve("preparation");else if(""===pe)ge(!0),ve("file");else{var n={category:U,title:y.toLowerCase(),ingredients:ie,preparation:le,time:N,servings:A,info:F},a=JSON.stringify(n),c=new FormData;c.append("document",a),""!==pe&&c.append("file",pe),t(c),ye()}},warningOpen:he,setWarningOpen:ge,warningField:xe,setWarningField:ge},e))},Kt=n(45),Xt=n.n(Kt),Zt=n(50),$t=n.n(Zt),en=function(e){var t=e.options.selectedMeal,n=e.options.classActiveBtn,c=e.options.handleSelectOption,i=E()($t.a.button,Object(T.a)({},"".concat($t.a.classActiveBtn),n));return Object(a.jsx)("div",{className:$t.a.buttons,children:["all","breakfast","lunch","dinner","snacks"].map((function(e){return Object(a.jsx)(je,{bgColor:"bgPrimary",custom:t===e?i:$t.a.button,onClick:function(){return c(e)},children:e},e)}))})},tn=function(e){var t=e.toggle,n=e.buttonsProps,c=e.inputContent,i=e.handleInputChange;return Object(a.jsxs)("div",{children:[Object(a.jsx)(Se,{custom:Xt.a.heading,children:"Recipes"}),Object(a.jsxs)("div",{className:Xt.a.wrapper,children:[Object(a.jsx)(en,{options:n}),Object(a.jsx)(dt,{custom:Xt.a.search,value:c.toLowerCase(),onChange:i}),Object(a.jsx)("div",{className:Xt.a.buttonWrapper,children:Object(a.jsx)(xt,{bgColor:"bgPrimary",custom:Xt.a.buttonAdd,onClick:t})})]})]})},nn=function(){var e=Object(c.useState)("all"),t=Object(g.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!0),s=Object(g.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(""),b=Object(g.a)(u,2),p=b[0],j=b[1],O=Object(c.useState)(!1),_=Object(g.a)(O,2),h=_[0],m=_[1],f=Object(c.useState)({}),x=Object(g.a)(f,2),v=x[0],C=x[1],y=Object(c.useState)(!1),P=Object(g.a)(y,2),k=(P[0],P[1]),S=Object(c.useContext)(ae).userLoggedIn,I=function(e){j(e.target.value)},N=Object(c.useCallback)((function(e){i(e),d(!0)}),[]),D=Object(c.useCallback)((function(e){m(!h),C(e)}),[h]),w=Object(c.useMemo)((function(){return{classActiveBtn:o,handleSelectOption:N,selectedMeal:n}}),[o,N,n]);return!1===S?Object(a.jsx)(l.a,{to:"/login"}):Object(a.jsx)(vt,{render:function(e){var t=e.toggle,c=e.classOpen;return Object(a.jsxs)(Fe,{bgColorLight:"bgPrimaryLight",border:"borderPrimary",children:[Object(a.jsxs)("div",{className:St.a.wrapper,children:[Object(a.jsx)(tn,{toggle:t,buttonsProps:w,inputContent:p,handleInputChange:I}),Object(a.jsx)(Et,{meal:n,inputContent:p.toLowerCase(),handleQuickAdd:D,refresh:!0})]}),h&&Object(a.jsx)(yt,{children:Object(a.jsx)(Bt,{item:v,setOpen:m,custom:St.a.quickAdd})}),"activeForm"===c&&Object(a.jsx)(Vt,{classOpen:c,toggle:t,setRefresh:k})]})}})},an=n(21),cn=n.n(an),rn=n(39),sn=n.n(rn),on=function(e){var t=e.handleAddItem,n=e.setActivePopUp,i=Object(c.useState)(""),r=Object(g.a)(i,2),s=r[0],o=r[1],l=Object(c.useState)(""),d=Object(g.a)(l,2),u=d[0],b=d[1],p=Object(c.useState)("-"),j=Object(g.a)(p,2),O=j[0],_=j[1];return Object(a.jsxs)("div",{className:sn.a.container,children:[Object(a.jsx)("h3",{children:"Add item:"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"ingredientTitle",children:"Type an ingredient:"}),Object(a.jsx)("input",{type:"text",name:"ingredientTitle",id:"ingredientTitle",className:sn.a.input,value:s,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"amount",children:"Amount:"}),Object(a.jsx)("input",{type:"number",name:"amount",id:"amount",className:sn.a.input,value:u,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsxs)("label",{children:["Choose unit:",Object(a.jsxs)("select",{name:"unit",className:sn.a.select,value:O,onChange:function(e){return _(e.target.value)},children:[Object(a.jsx)("option",{value:"g",children:"g"}),Object(a.jsx)("option",{value:"kg",children:"kg"}),Object(a.jsx)("option",{value:"ml",children:"ml"}),Object(a.jsx)("option",{value:"l",children:"l"}),Object(a.jsx)("option",{value:"-",children:"-"})]})]})]}),Object(a.jsx)(je,{bgColor:"bgWhite",custom:sn.a.button,onClick:function(){return t(s,u,O)},children:"Add"}),Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn30",custom:sn.a.btnDelete,onClick:function(){return n(!1)}})]})},ln=n(40),dn=n.n(ln),un=n(28),bn=n.n(un),pn=function(e){var t=e.handleChange,n=e.activeInput,c=e.activeIngredient,i=e.handleEdit,r=e.handleDelete,s=e.handleSave,o=e.editIngredients,l=e.inputValue;return Object(a.jsx)("ul",{children:o.map((function(e){return Object(a.jsxs)("li",{className:bn.a.item,children:[Object(a.jsx)("div",{className:bn.a.circle}),Object(a.jsx)("span",{className:bn.a.title,children:e.title}),Object(a.jsxs)("div",{className:bn.a.wrapper,children:[Object(a.jsx)("div",{children:n&&c===e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{value:l,onChange:function(n){return t(n,e)},className:bn.a.input}),Object(a.jsx)("span",{className:bn.a.unit,children:e.unit})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:bn.a.amount,children:e.amount}),Object(a.jsx)("span",{className:bn.a.unit,children:e.unit})]})}),Object(a.jsxs)("div",{className:bn.a.buttons,children:[n&&c===e?Object(a.jsx)(Ge,{bgImage:"buttonChecked",onClick:function(){return s(e)}}):Object(a.jsx)(Ge,{bgImage:"buttonEdit",onClick:function(){return i(e)}}),Object(a.jsx)(Ge,{bgImage:"buttonDelete",onClick:function(){return r(e)}})]})]})]},e.id)}))})},jn=n(103),On=n(66),_n=function(){var e=document.getElementById("content");On(e).then((function(e){var t=e.toDataURL("image/png"),n=new jn.a,a=n.getImageProperties(t),c=n.internal.pageSize.getWidth(),i=a.height*c/a.width;n.addImage(t,"PNG",0,0,c,i),n.save("download.pdf")}))},hn=function(e){var t=e.setActivePopUp,n=e.editIngredients,i=e.setEditIngredients,r=Object(c.useState)(""),s=Object(g.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!1),u=Object(g.a)(d,2),b=u[0],p=u[1],j=Object(c.useState)({}),O=Object(g.a)(j,2),_=O[0],h=O[1];return Object(a.jsxs)("section",{className:dn.a.wrapper,id:"content",children:[Object(a.jsx)("h2",{className:dn.a.heading,children:"Grocery List"}),Object(a.jsx)("div",{className:dn.a.buttons,children:Object(a.jsx)(Ge,{bgImage:"buttonPrint",btnSize:"btn30",custom:dn.a.btnPrint,onClick:_n})}),Object(a.jsx)(pn,{handleChange:function(e,t){l(e.target.value)},activeInput:b,activeIngredient:_,handleEdit:function(e){h(e),l(e.amount),p(!0)},handleDelete:function(e){var t=n.filter((function(t){return t!==e}));i(t)},handleSave:function(e){var t={title:e.title,amount:o,unit:e.unit},a=n.map((function(n){return n===e?t:n}));i(a)},editIngredients:n,inputValue:o}),Object(a.jsx)("div",{className:dn.a.listButtons,children:Object(a.jsx)(je,{bgColor:"bgTertiary",custom:dn.a.button,onClick:function(){return t(!0)},children:"Add item"})})]})},gn=function(e){var t=e.handleSelectOption,n=e.handleAddItem,i=e.setActivePopUp,r=e.selectedDays,s=e.classActiveBtn,l=e.activePopUp,d=e.groceryList,u=(e.getFilteredIngredientsArray,e.editIngredients),b=e.setEditIngredients,p=Object(c.useContext)(ae).plan;return p.length>0?Object(a.jsxs)("div",{className:cn.a.wrapper,children:[Object(a.jsx)("h3",{children:"Which days do you want to include in your list?"}),Object(a.jsxs)("div",{className:cn.a.buttons,children:[Object(a.jsx)(je,{bgColor:"bgTertiary",custom:r.includes("all")?E()(cn.a.button,Object(T.a)({},"".concat(cn.a.classActiveBtn),s)):cn.a.button,onClick:function(){return t("all")},children:"all"},"all"),p.map((function(e){return Object(a.jsxs)(je,{bgColor:"bgTertiary",custom:r.includes(e.date)?E()(cn.a.button,Object(T.a)({},"".concat(cn.a.classActiveBtn),s)):cn.a.button,onClick:function(){return t(e.date)},children:[Object(a.jsx)("span",{children:e.date}),Object(a.jsx)("span",{children:e.day})]},e._id)}))]}),d.length>0&&Object(a.jsx)(hn,{setActivePopUp:i,editIngredients:u,setEditIngredients:b}),l&&Object(a.jsx)(on,{handleAddItem:n,setActivePopUp:i})]}):Object(a.jsx)("div",{className:cn.a.buttonWrapper,children:Object(a.jsx)(o.b,{to:"/plan",children:Object(a.jsx)(je,{bgColor:"bgTertiary",custom:cn.a.buttonGenerate,children:"Plan your meals!"})})})},mn=n(165),fn=function(){return Object(mn.a)()},xn=function(){var e=Object(c.useState)(!1),t=Object(g.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),s=Object(g.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(["all"]),b=Object(g.a)(u,2),p=b[0],j=b[1],O=Object(c.useState)(!0),_=Object(g.a)(O,2),h=_[0],m=_[1],f=Object(c.useState)([]),x=Object(g.a)(f,2),v=x[0],C=x[1],y=Object(c.useState)([]),P=Object(g.a)(y,2),k=P[0],S=P[1],I=Object(c.useState)([]),N=Object(g.a)(I,2),D=N[0],w=N[1],R=Object(c.useState)([]),A=Object(g.a)(R,2),L=A[0],W=A[1],E=Object(c.useContext)(ae),F=E.plan,T=E.plannedRecipes,B=E.userLoggedIn,M=Object(c.useContext)(Ot),U=M.getSingleRecipe,G=M.recipe;Object(c.useEffect)((function(){T.map((function(e){U(e.recipeId)}))}),[T]),Object(c.useEffect)((function(){d([].concat(Object(ee.a)(o),[G]))}),[G]),Object(c.useEffect)((function(){q()}),[]),Object(c.useEffect)((function(){q()}),[p,o]);var H=Object(c.useCallback)((function(e,t,n){var a={id:fn(),title:e,amount:t,unit:n};W([].concat(Object(ee.a)(L),[a])),i(!1)}),[L]),q=function(){var e,t=[];e=p.includes("all")?F.map((function(e){return e.date})):p,F.map((function(n){e.includes(n.date)&&(t=[].concat(Object(ee.a)(t),Object(ee.a)(n.recipes)))}));var n=[];t.map((function(e,t,a){var c={count:a.filter((function(t){return t===e})).length,recipeId:e};return void 0===n.find((function(t){return t.recipeId===e}))?n=[].concat(Object(ee.a)(n),[c]):n})),C(n)},z=function(){var e=[];0!==k.length&&k.forEach((function(t){if(e.filter((function(e){return e.title===t.title&&e.unit===t.unit})).length>0){var n=e.findIndex((function(e){return e.title===t.title&&e.unit===t.unit})),a={id:fn(),title:e[n].title,amount:(parseInt(e[n].amount,10)+parseInt(t.amount,10)).toString(),unit:e[n].unit};e=e.filter((function(e,t){return t!==n})),e=[].concat(Object(ee.a)(e),[a])}else e=[].concat(Object(ee.a)(e),[t])})),w(e)};return Object(c.useEffect)((function(){!function(){var e=[];o.map((function(t){var n=v.filter((function(e){if(e.recipeId===t._id)return e.count})),a=Object(g.a)(n,1)[0];if(a){var c=t.ingredients.map((function(e){var t=parseInt(e.amount,10);return{id:fn(),title:e.title,amount:t*a.count,unit:e.unit}}));e=[].concat(Object(ee.a)(e),Object(ee.a)(c))}})),S(e)}()}),[v]),Object(c.useEffect)((function(){z()}),[k]),Object(c.useEffect)((function(){W(D)}),[D]),!1===B?Object(a.jsx)(l.a,{to:"/login"}):Object(a.jsx)(Fe,{border:"borderTertiary",bgColorLight:"bgTertiaryLight",children:Object(a.jsx)(gn,{handleSelectOption:function(e){if(p.includes(e)){var t=p.filter((function(t){return t!==e}));j(t)}else{var n=[].concat(Object(ee.a)(p),[e]);j(n)}m(h)},handleAddItem:H,setActivePopUp:i,selectedDays:p,classActiveBtn:h,fetchedRecipes:o,activePopUp:n,groceryList:D,getFilteredIngredientsArray:z,editIngredients:L,setEditIngredients:W})})},vn=n(75),Cn=n.n(vn),yn=n(14),Pn=n.n(yn),kn=n(34),Sn=n.n(kn),In=function(e){var t=e.options,n=Object(c.useContext)(ae).userId,i=t.recipe,r=t.toggle;return Object(a.jsxs)("div",{className:Sn.a.buttons,children:[n===i.userId&&Object(a.jsx)(je,{bgColor:"bgSecondary",custom:E()(Sn.a.btn,Sn.a.btnSecondary),onClick:r,children:"Edit"}),Object(a.jsx)(je,{bgColor:"bgPrimary",custom:E()(Sn.a.btn,Sn.a.btnPrimary),onClick:t.handleOpenPopUpAddItem,children:"Add to plan"}),n===i.userId&&Object(a.jsx)(je,{bgColor:"bgGrey",custom:E()(Sn.a.btn,Sn.a.btnGrey),onClick:t.handleOpenPopUpDeleteItem,children:"Delete"})]})},Nn=n(51),Dn=n.n(Nn),wn=function(e){var t=e.setOpen,n=e.deleteItem,i=e.custom,r=E()(Dn.a.container,i),s=Object(c.useMemo)((function(){return{bgColor:"bgGrey",custom:Dn.a.button,onClick:n}}),[n]),o=Object(c.useMemo)((function(){return{bgColor:"bgSecondary",custom:Dn.a.button,onClick:t}}),[t]);return Object(a.jsxs)("div",{className:r,children:[Object(a.jsx)("h3",{children:"Do you really want to delete this item?"}),Object(a.jsxs)("div",{className:Dn.a.buttons,children:[Object(a.jsx)(je,{bgColor:s.bgColor,custom:s.custom,onClick:s.onClick,children:"Yes"}),Object(a.jsx)(je,{bgColor:o.bgColor,custom:o.custom,onClick:o.onClick,children:"No!"})]})]})},Rn=function(e){var t=e.recipe,n=e.toggle,i=e.classOpen,r=e.setOpenDelete,s=e.isOpenDelete,o=e.handleCloseDelete,l=e.handleDelete,d=Object(c.useState)(!1),u=Object(g.a)(d,2),b=u[0],p=u[1],j=t.recipeImage&&t.recipeImage.img.data.data,O=At(j),_=O?"url(data:image/jpeg;base64,".concat(O,")"):"url(".concat(Rt,")"),h=Object(c.useCallback)((function(){p(!b)}),[b]),m=Object(c.useCallback)((function(){r(!s)}),[s]),f=Object(c.useMemo)((function(){return{recipe:t,toggle:n,handleOpenPopUpAddItem:h,handleOpenPopUpDeleteItem:m}}),[t,s,b]);return Object(a.jsxs)("article",{className:Pn.a.container,id:"content",children:[Object(a.jsxs)("div",{className:Pn.a.header,style:{backgroundImage:_},children:[Object(a.jsxs)("div",{className:Pn.a.headerVisible,children:[Object(a.jsx)(Se,{custom:Pn.a.heading,children:t.title}),Object(a.jsxs)("section",{className:Pn.a.extraInfo,children:[""!==t.time&&Object(a.jsxs)("p",{children:["Preparation time: ",t.time]}),""!==t.servings&&Object(a.jsxs)("p",{children:["Servings: ",t.servings]}),Object(a.jsxs)("ul",{children:["Good for:",t.category.map((function(e){return Object(a.jsx)("li",{children:e},e)}))]})]})]}),Object(a.jsx)("div",{style:{width:"100%",height:"25rem"}})]}),Object(a.jsx)(Ge,{bgImage:"buttonPrint",custom:Pn.a.btnPrint,onClick:_n}),Object(a.jsxs)("section",{className:Pn.a.recepie,children:[Object(a.jsxs)("section",{className:Pn.a.ingredients,children:[Object(a.jsx)("h2",{children:"Ingredients"}),Object(a.jsx)("ul",{children:t.ingredients.map((function(e){return Object(a.jsxs)("li",{children:[e.title,Object(a.jsxs)("span",{children:[e.amount,e.unit]})]},e.title)}))})]}),Object(a.jsxs)("section",{className:Pn.a.preparationWrapper,children:[Object(a.jsx)("h2",{children:"Preparation"}),Object(a.jsx)("ul",{children:t.preparation.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("em",{children:["Step ",e.step]}),Object(a.jsx)("p",{children:e.content})]})}))})]}),Object(a.jsx)("div",{className:Pn.a.horLine}),""!==t.info&&Object(a.jsxs)("section",{className:Pn.a.addInfo,children:[Object(a.jsx)("h2",{children:"Some additional info"}),Object(a.jsx)("p",{children:t.info})]}),Object(a.jsx)(In,{options:f}),b&&Object(a.jsx)(yt,{children:Object(a.jsx)(Bt,{item:t,setOpen:p,custom:Pn.a.quickAdd})}),"activeForm"===i&&Object(a.jsx)(Vt,{classOpen:i,toggle:n,recipeToEdit:t}),s&&Object(a.jsx)(wn,{setOpen:o,deleteItem:l,custom:Pn.a.delete})]})]})},An=function(){var e=Object(c.useState)(!0),t=Object(g.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(g.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(!1),b=Object(g.a)(u,2),p=b[0],j=b[1],_=Object(l.h)().pathname.split("/")[2],h=Object(l.g)(),m=Object(c.useContext)(ae).userLoggedIn,f=Object(c.useContext)(Ot),x=f.getSingleRecipe,v=f.recipe,C=f.deleteRecipe,y=f.error;Object(c.useEffect)((function(){x(_)}),[]),Object(c.useEffect)((function(){""!==v.title&&i(!1)}),[v]),Object(c.useEffect)((function(){404===y&&j(!0)}),[y]);var P=function(){d(!o)},k=function(){C(_),d(!o),h.push("".concat(O))},S=function(){j(!p),h.push("/recipes")};return!1===m?Object(a.jsx)(l.a,{to:"/login"}):Object(a.jsx)(vt,{render:function(e){var t=e.toggle,c=e.classOpen;return Object(a.jsxs)(Fe,{border:"borderPrimary",bgColorLight:"bgPrimaryLight",children:[n&&Object(a.jsx)("section",{className:Cn.a.container,children:Object(a.jsx)(ue,{})}),p&&Object(a.jsx)("section",{className:Cn.a.container,children:Object(a.jsx)(fe,{text:"Recipe no longer exists",onClick:S})}),!1===n&&Object(a.jsx)(Rn,{recipe:v,toggle:t,classOpen:c,handleCloseDelete:P,handleDelete:k,setOpenDelete:d,isOpenDelete:o})]})}})},Ln=n(76),Wn=n.n(Ln),En=n(22),Fn=n.n(En),Tn=function(e){var t=e.dayPlan,n=e.toggle,c=e.setOpenDelete,i=e.isOpenDelete,r=e.handleQuickAdd,s=e.setPlanToEdit;return Object(a.jsxs)("div",{className:Fn.a.container,id:"content",children:[Object(a.jsxs)("div",{className:Fn.a.header,children:[Object(a.jsx)(Se,{custom:Fn.a.heading,children:t&&t.day}),Object(a.jsx)(De,{custom:Fn.a.headingParagraph,children:t&&t.date}),Object(a.jsxs)("div",{className:Fn.a.buttons,children:[Object(a.jsx)(Ge,{bgImage:"buttonDelete",btnSize:"btn20",onClick:function(){return c(!i)},type:"button",custom:Fn.a.button}),Object(a.jsx)(Ge,{bgImage:"buttonAdd",btnSize:"btn30",onClick:function(){n(),s(t)},type:"button",custom:Fn.a.button})]})]}),Object(a.jsx)("div",{className:Fn.a.planWrapper,children:t&&Ye.map((function(e){return 0!==t.plan[e].length?Object(a.jsxs)("div",{className:Fn.a.mealPlanWrapper,children:[Object(a.jsx)("h2",{children:e}),Object(a.jsx)("div",{className:Fn.a.recepiesContainer,children:t.plan[e].map((function(t){return Object(a.jsx)("div",{children:Object(a.jsx)(Lt,{item:t,handleQuickAdd:r,small:!0})},"".concat(e,"-").concat(t._id))}))})]},e):null}))})]})},Bn=function(){var e=Object(c.useContext)(Ct),t=e.getPlanById,n=e.sendPlan,i=e.dayPlan,r=e.setPlanToEdit,s=e.planToEdit,o=e.deletePlan,d=Object(c.useContext)(ae).userLoggedIn,u=Object(l.h)().pathname.split("/")[2],b=Object(l.g)(),p=Object(c.useState)(!1),j=Object(g.a)(p,2),O=j[0],_=j[1],h=Object(c.useState)(!1),m=Object(g.a)(h,2),f=m[0],x=m[1],v=Object(c.useState)({}),C=Object(g.a)(v,2),y=C[0],P=C[1],k=Object(c.useState)(!1),S=Object(g.a)(k,2),I=S[0],N=S[1],D=Object(c.useCallback)((function(){_(!O)}),[O]);Object(c.useEffect)((function(){t(u)}),[I,t,u]);var w=Object(c.useCallback)((function(e){x(!f),P(e)}),[f]),R=Object(c.useCallback)((function(){o(u),_(!O),b.push("/plan")}),[O,o,b,u]);return!1===d?Object(a.jsx)(l.a,{to:"/login"}):Object(a.jsx)(vt,{render:function(e){var t=e.toggle,c=e.classOpen;return Object(a.jsxs)(Fe,{border:"borderSecondary",bgColorLight:"bgSecondaryLight",children:[Object(a.jsx)(Tn,{dayPlan:i,toggle:t,setPlanToEdit:r,handleQuickAdd:w,setOpenDelete:_,isOpenDelete:O}),"activeForm"===c&&Object(a.jsx)(gt,{toggle:t,classOpen:c,planToEdit:s,setRefresh:N,sendPlan:n}),f&&Object(a.jsx)(yt,{children:Object(a.jsx)(Bt,{item:y,setOpen:x,custom:Wn.a.quickAdd})}),O&&Object(a.jsx)(wn,{deleteItem:R,setOpen:D,custom:Wn.a.delete})]})}})};var Mn=function(){return Object(a.jsx)(re,{children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{exact:!0,path:d,component:we}),Object(a.jsx)(l.b,{path:b,component:ve}),Object(a.jsx)(l.b,{exact:!0,path:u,component:ve}),Object(a.jsx)(l.b,{exact:!0,path:p,children:Object(a.jsx)(yt,{children:Object(a.jsx)(Pt,{})})}),Object(a.jsx)(l.b,{exact:!0,path:j,children:Object(a.jsx)(yt,{children:Object(a.jsx)(Bn,{})})}),Object(a.jsx)(l.b,{exact:!0,path:O,children:Object(a.jsx)(_t,{children:Object(a.jsx)(nn,{})})}),Object(a.jsx)(l.b,{exact:!0,path:_,children:Object(a.jsx)(_t,{children:Object(a.jsx)(An,{})})}),Object(a.jsx)(l.b,{exact:!0,path:h,children:Object(a.jsx)(_t,{children:Object(a.jsx)(xn,{})})}),Object(a.jsx)(l.b,{path:"*",children:Object(a.jsx)(l.a,{to:d})})]})})})};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Mn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[158,1,3]]]);
//# sourceMappingURL=main.d31000cd.chunk.js.map